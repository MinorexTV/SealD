:root {
  /* Base (dark) palette */
  --bg: #0f1115;
  --card: #151822;
  --text: #e6e6e6;
  --muted: #a7b0c0;
  --accent: #6ea8fe;
  --danger: #ff6b6b;
  --success: #4cc38a;
  --border: #2a2f3c;

  /* Surfaces and interactive tokens */
  --surface-1: #0f131c;
  --hover: #121722;

  /* Buttons */
  --btn-bg: var(--accent);
  --btn-text: #09111f;
  --btn-secondary-bg: #20283a;
  --btn-secondary-text: var(--text);
  --btn-secondary-border: var(--border);
  --btn-danger-bg: var(--danger);
  --btn-danger-text: #220808;
}

/* Light theme overrides */
:root[data-theme="light"] {
  --bg: #f6f7fb;
  --card: #ffffff;
  --text: #1a1f2b;
  --muted: #516070;
  --accent: #2b6ff6;
  --danger: #d23737;
  --success: #1a7f5a;
  --border: #e5e7ef;

  --surface-1: #f1f3f8;
  --hover: #f6f8fc;

  --btn-bg: var(--accent);
  --btn-text: #ffffff;
  --btn-secondary-bg: #eef1f7;
  --btn-secondary-text: #1a1f2b;
  --btn-secondary-border: #d9deea;
  --btn-danger-bg: #d23737;
  --btn-danger-text: #ffffff;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  color: var(--text);
}

.container { max-width: 1100px; margin: 0 auto; padding: 16px; }

h1 { margin: 0 0 8px; font-size: 24px; }
h2 { margin: 8px 0 16px; font-size: 18px; color: var(--muted); }

.toolbar {
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: space-between;
}

.summary { display: flex; gap: 18px; font-size: 14px; }
.summary strong { color: var(--muted); margin-right: 6px; }

.actions { display: flex; gap: 10px; align-items: center; }

button, input, select {
  background: var(--surface-1);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px 10px;
  font-size: 14px;
}

button { background: var(--btn-bg); color: var(--btn-text); border: none; cursor: pointer; }
button.secondary { background: var(--btn-secondary-bg); color: var(--btn-secondary-text); border: 1px solid var(--btn-secondary-border); }
button.danger { background: var(--btn-danger-bg); color: var(--btn-danger-text); border: none; }
button.icon { padding: 6px 8px; }

label { display: flex; flex-direction: column; gap: 6px; font-size: 13px; color: var(--muted); }
label.file input[type="file"] { padding: 6px; }
.form-row label { position: relative; }

.suggestions { position: absolute; top: 100%; left: 0; right: 0; z-index: 10; background: var(--card); border: 1px solid var(--border); border-top: none; border-radius: 0 0 8px 8px; max-height: 320px; overflow: auto; }
.suggestions.hidden { display: none; }
.suggestion-item { display: flex; align-items: center; gap: 10px; padding: 8px 10px; cursor: pointer; }
.suggestion-item:hover { background: var(--hover); }
.suggestion-img { width: 36px; height: 36px; object-fit: cover; border-radius: 6px; border: 1px solid var(--border); background: var(--surface-1); }
.suggestion-text { display: flex; flex-direction: column; }
.suggestion-title { color: var(--text); font-size: 14px; }
.suggestion-sub { color: var(--muted); font-size: 12px; display: flex; gap: 8px; align-items: center; }
.badge-price { color: var(--success); font-weight: 600; }
.hidden { display: none !important; }

.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
@media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}

.form-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 12px; }
@media (max-width: 900px) { .form-row { grid-template-columns: 1fr; } }
.form-actions { display: flex; gap: 10px; }
.input-with-button { display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center; }
.search-status { margin-top: 6px; font-size: 12px; color: var(--muted); min-height: 14px; }
.search-status.error { color: #ff9f9f; } /* light red for exhausted/error */

.auth-box { margin-top: 12px; padding: 10px; border: 1px solid var(--border); border-radius: 10px; background: var(--surface-1); }
.auth-row { display: grid; grid-template-columns: repeat(5, auto); gap: 8px; align-items: center; }
.auth-row input { min-width: 160px; }
@media (max-width: 900px) { .auth-row { grid-template-columns: 1fr 1fr; } }
.auth-status { margin-top: 6px; font-size: 12px; color: var(--muted); min-height: 14px; }
.auth-status.error { color: var(--danger); }
.auth-status.success { color: var(--success); }

.charts { display: grid; grid-template-columns: 1fr; gap: 18px; margin-top: 8px; }
.chart-title { margin: 0 0 8px; color: var(--muted); font-size: 14px; }
.chart { border: 1px solid var(--border); border-radius: 8px; padding: 12px; background: var(--surface-1); }
canvas { width: 100%; height: auto; display: block; }

.table-wrapper { overflow: auto; border: 1px solid var(--border); border-radius: 8px; }
table { width: 100%; border-collapse: collapse; font-size: 14px; }
thead { background: var(--surface-1); }
th, td { padding: 10px; border-bottom: 1px solid var(--border); text-align: left; vertical-align: middle; }
tbody tr:hover { background: var(--hover); }

.thumb { width: 56px; height: 56px; object-fit: cover; border-radius: 8px; border: 1px solid var(--border); cursor: pointer; }

.price-pos { color: var(--success); }
.price-neg { color: var(--danger); }

.modal { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.6); }
.modal.hidden { display: none; }
.modal-content { position: relative; background: var(--card); padding: 10px; border-radius: 12px; border: 1px solid var(--border); }
.modal-content img { max-width: 80vw; max-height: 80vh; border-radius: 8px; }
.modal-close { position: absolute; top: 6px; right: 6px; background: var(--btn-secondary-bg); color: var(--btn-secondary-text); border: 1px solid var(--btn-secondary-border); border-radius: 6px; padding: 4px 8px; cursor: pointer; }

.footer { color: var(--muted); text-align: center; }

.import-label { display: inline-flex; align-items: center; gap: 6px; background: var(--btn-secondary-bg); padding: 8px 10px; border-radius: 8px; cursor: pointer; border: 1px solid var(--btn-secondary-border); color: var(--btn-secondary-text); }

input[type="search"] { width: 200px; }
.topnav { display: flex; gap: 12px; align-items: center; padding-top: 10px; }
.topnav a { color: var(--muted); text-decoration: none; padding: 6px 10px; border-radius: 8px; border: 1px solid transparent; }
.topnav a.active { color: var(--text); border-color: var(--border); background: var(--surface-1); }
